jQuery(function(d){d(".woocommerce-ordering select").each(function(){var t=d(this);if(d("body").hasClass("rtl"))var n=d("<div></div>").html('<span class="current">'+t.find(":selected").html()+'</span><span class="north-icon-previous"></span>').addClass("ordering-selector-wrapper").insertAfter(t);else n=d("<div></div>").html('<span class="current">'+t.find(":selected").html()+'</span><span class="north-icon-next"></span>').addClass("ordering-selector-wrapper").insertAfter(t);var e=d("<div/>").addClass("ordering-dropdown-container").appendTo(n),o=d("<ul></ul>").addClass("ordering-dropdown").appendTo(e),i=0;t.find("option").each(function(){var e=d(this);o.append(d("<li></li>").html(e.html()).data("val",e.attr("value")).click(function(){t.val(d(this).data("val")),t.closest("form").submit()})),i=Math.max(n.find(".current").html(e.html()).width(),i)}),n.find(".current").html(t.find(":selected").html()).width(i),t.hide()}),d(".ordering-selector-wrapper").click(function(){d(this).toggleClass("open-dropdown")}),d(window).click(function(e){d(e.target).closest(".ordering-selector-wrapper.open-dropdown").length||d(".ordering-selector-wrapper.open-dropdown").removeClass("open-dropdown")}),d(".product-quick-view-button").click(function(e){e.preventDefault();var n="#quick-view-container",o="#product-quick-view",t=d(this).attr("data-product-id");d.post(so_ajax.ajaxurl,{action:"so_product_quick_view",product_id:t},function(e){d(document).find(n).find(o).html(e)}),d(document).find(n).is(":hidden")&&d(document).find(n).find(o).empty(),d(document).find(n).fadeIn(300),d(window).mouseup(function(e){var t=d(o);(!t.is(e.target)&&0===t.has(e.target).length||d(".quickview-close-icon").is(e.target))&&d(n).fadeOut(300)}),d(document).keyup(function(e){d(o);27==e.keyCode&&d(n).fadeOut(300)})})});